heat_template_version: 2014-10-16

description: >
  userdata : userdata config custom

resources:
  userdata:
    type: OS::Heat::CloudConfig
    properties:
      cloud_config:
        merge_how: 'list(append)+dict(recurse_array)+str()'
        write_files:
        - path: /root/install_config_custom.sh
          content: { get_file: ../config-scripts/install_config_custom.sh }
          owner: root:root
          permissions: '0750'
        runcmd:
          - /root/install_config_custom.sh
outputs:
  userdata:
    value: {get_resource: userdata}

